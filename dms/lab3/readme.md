# lab3

Cursors

## init

- Выбирите СУБД `Oracle` для выполнения лабораторной.
- Оознакомтесь со скриптом создания и заполнения таблиц для выполнения лабораторной ([`create.sql`](https://github.com/Drapegnik/bsu/blob/master/dms/lab1/create.sql)).
- Запустите скрипт `create.sql` на выполнение.
- Вам необходимо создать блоки (программы) для начисления налога на прибыль и
  занесения его в соответсвующую запись таблицы `bonus`.
- Налог вычисляется по следующему правилу: _ налог равен `9%` от начисленной в
  месяце премии, если суммарная премия с начала года до конца рассматриваемого
  месяца не превышает `500`; _ налог равен `12%` от начисленной в месяце премии,
  если суммарная премия с начала года до конца рассматриваемого месяца больше
  `500`, но не превышает `1000`; \* налог равен `15%` от начисленной в месяце
  премии, если суммарная премия с начала года до конца рассматриваемого месяца
  больше `1000`.

## tasks

- Составьте программу вычисления налога и вставки его в таблицу `bonus`: 1. с
  помощью простого цикла (`LOOP`) с курсором, оператора `IF` и опретора `CASE`;
  2.  с помощью курсорного цикла `FOR`; 3. с помощью курсора с параметром,
      передавая номер сотрудника, для которого необходимо посчитать налог.
- Оформите составленные программы в виде процедур.
- Создайте процедуру, вычисления налога и вставки его в таблицу `bonus` за всё
  время начислений для конкретного сотрудника.
  > В качестве параметров передать проценты налога (до `500`, от `501` до
  > `1000`, выше `1000`), номер сотрудника.
- Создайте функцию, вычисляющую суммарный налог на премию сотрудника за всё
  время начислений.
  > В качестве параметров передать процент налога (до `500`, от `501` до `1000`,
  > выше `1000`), номер сотрудника. Возвращаемое значение – суммарный налог.

---

> results check out in
> [`lab3.sql`](https://github.com/Drapegnik/bsu/blob/master/dms/lab3/lab3.sql)
